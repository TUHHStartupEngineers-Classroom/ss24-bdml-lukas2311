<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #006a81;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #006a81;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #00C1D4;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1e52ef73227849d9a637d45ed00b7792d1f29406b7fd346f1da05ddd072edb483cc6969f3666db210cfdf41f9d8736ecf8b905e21e5d0753ca0520b3927c54901bddfdeea3419b6bb1aac6c8764bf78406178d454d40b22eb5ff48caeef54d9576b0e303afb1e9e67fcc28cbbfca6699de093fe44219a3afe224868efce2957e89754bb46b9f17c4606404cb94bebff0d6633c579e9cacfacb5263038d3236d70d31340e1f748e747727c5f199799fa2b2289a839de48022088fde2245bacd07846beedd9a3b81dce3e9a9e76d39d64839408746191a69245deb64fc42ac404b36b04c00bd0f81dba231c9ad4011e503152cd6f5b956f3b93d1cf784bb9d0bc0b6f13fc161fa813118668dcd32d9dad83315c7791dbfc95d580e2f623b551869e582860c515dc37fe47e68e18e52a206bfae6d6add4ef5895d1d1dfd51754ee20fb8fb803c2879bbb3eadf87c69cfd499501e1857e3bf8e232a2d851564b3180dc99deffdd5f511a4ad46e9e5a3a00c4365cb091f504cf5597d44426e59da43e333e84842c3110956d7e8b9118b27fa2f346c221e6aeaa1709503524e34deec1b931aa6907ad5797f5320bbacbb9a5e58dbc54952eb1ab7e17b41a55fbd052a2e328e990dd32cc857e01a95574a9e070e04dcd26fdae38755f95c1bb0d4df1e8c701fa22530fd6bf871227cefb37f38e8e278efffd8927ab61931092ac206af2e6d0fb9f9cd234c56e216db08d161907ea435779bbb87523bcd180f433189fb905e3aa1dec26ac05e625db1f2cae667b4638f45ff91192ac8e2dec97db2703a2b0e101c76d58bd38d491038acf844b08ac3b660183d6b59b8d8bb0f50ad721792afa093d503ba47e1592f2141391126d427db6d00db2d6e97c249aa16ddcb91c23a3b7f70dde11ae46f80dc9ceca1ad880667828e5f4ced086d85c74d8fb4e0120cf8b67c693684bf65f70f671f11f4704baeca0dc2fff256c67f4ecb302cb34fa1b445d82898546653c07475356c9f63d9fb7d2cd3a2cc1bd09c1870de7d7eae944194047240499b7ef7037838cf1daea4d755bb4c2680e4a11c2f0c177b712636802c240dc2ac7d36f6ea7328eec410fc742c1738b7b3903dd78d1dee58eb27d4b858df613179b4bc4922e224d7900bb6830963bfaae1ae7259d258939161828b5c88e6337b7535c56f5f801064fef9e055e607708c347ecc3c8c12ca16700d17b3eee9c61c90ce21b53911035f24565abb388790bb391c67388672599f46a98477f0aa056a85db4d8d6cb6a97d57496c03b1551ee995284be9a415ac33addd16bb6b364cb6344da702e35c3283d6965441df38232d3431849d967ac3933be2f799540682baeb31e4ec69e191fd1d335c8d3770e0219cdd5aa0de42a4f95fb8ead6d3031a7342381da19ede4b95e54945bcc631b9e524e427b1a558a27a43da2c5d02e0596b58f19923bdea2ad99dbcc8df6cb7412c05c02114cc3429a52bbc6b45cbd904af0a7149c039f2948288e1e7618420186b68f21a23df43520dca505f2c225a8295dc1cd98b9382eaea789a0639e19cb576c0a476cb41008eefd5b59091cc678ff5ff6c23e36e404dac478bc9ce83d92cf0544508e4b5c06f920bd39eb0375f3a209eddb097934859ac974436707be6bf30a42e8dab1fc3f0725b458a6601c91eebee621ad148dcd1776d2d81dc808f49d86a8a247e74346ba70d889f80e18e7a5ff359634401f9a82ca10a4e9c4ee471757bff589bd0e60775baba9dc10bddcbde9ab4061f95e8995725a9ce604c8cedd2fcdb73f3dc9ddba8c3a85095d2846b5e8e03565cfbeedbb6aad67230efb5ae144b15249e37cbc2d17c9803e83b85923d69d320586478bfea6fe52822fac106356aa160266e0ee29e4d626ab33a33cb844dadcff1579dd33652ebc33ab887436c576586a38f86b0e26f8964da34fb14176a41199edd9cb3049f93e948e0f080ebce0af8080c235bcf956b4e919b7735b4c950f62998f413296e7740666fc4cdc38a826b90345930b86130d58c20c7c4239c266e582590cf186cb09f74268b7b4e91d0fded2fa7cf0b7daf6e9ed36be0dbf7af982fcf63d10b75f203bb1e0ff1c2fc039e68f8a50429bd7048f1274c71915cda6fd691e950fe0da0aa7f45730ff5de726408c30d91fe19fff0fdbb29a65a0479f77852ff8c5602562869b16c58ca6d8a18494f8cd52bbfd3d1556f6c2061d102db0cd929ef54222da75d732f05de89cfe2768f546a21b774416b27aca1bd56130a2c59042976ac9c0549689ec0ca465cef05cae9e77fb9d45eb2c794a2c0d402d2850e41559915ae2c6233e4a9a18525a143e673b6b86ed0a98b748c37c94ee9ab47080e1be13e5741d33308bb82e1648eb5f58747dd341e4490ac8ba2c89ee86dbba16755b08fb1e285f4ebd653196a43fcc8421ae31b855a6ee5fd6767f7204a0ac3edd5a6bb1f4b174e4056bb639e407afbc36319e6efde7d7b1039fc795db94b297a0f99b25c223cbd7099ebe9b7d656824a964d839108220098994c04026acc47f8d58631bd93a8372dc06f821e9d01dc6600405c93f02b7b6d3b05402f07e4e84d70f568d5019e6af00371535216575d7259c5e1fd73bbf745d27d01f0527379328e24440cdae0df3b729a351ada86ff8702e9ff04b907b9289766b476491b5d6d3c97cfad4d7b9439da37918af35429044df7076e7fc19c2df7985aacfba2417199a71bcb2b2d2299893fe84f328bb92a5980bc9ab61865600b471b9a77f2474207ca747196216dba18fe13f578b060fc2d1cd25a588f503ed971fa0b2991f4914d7f0d75147b1c24d46c8cb1f10fcea9799520340aea522c8bc52ff2409f6b4f747e4c8ca453108ba5c08040a542744de8c400a48d842f90de6a9e661f44650c184df3010d0577c919dd05768bc1c2f929f15641c7b8d11e25750f617b249c2c0cd5e499a098d576ca03fd303aba1fa4482f54688e4a17e4e7cde72be080a90fbdbfe44621820c56518a9fb32bbbea0cb216c8878c4988836444ff05d68956ec73e3050fbdbb385d01e2088b9680d8badce0fe0f489102c207ad3c7bf99805b4c3fa3b2f1726fcde7b1e1b4e398927160fc08fdc66d72d5d3f4ab44c56ca0d443a4ad6324e99513dc6f834f500c87691fd093883656315ed6927b75ad6e174c28522128b635584bdd1741455cf71f217bb015eb2e31de0f697bf4b282b18db4e97a3d4e4549fa8f8d3d4f65bce6b9066f67f7adcf120a7e6e27930f3f09024a04e11d17f4aa960769366d07c90f7195d7f8c18ff3d1781541660530620cf0a10aaf756fd28489d5628981bddfb8211d225b19490222b288afb5f24d96e25151cd981b733917181839391ce3107a51bca9ea5347ae0073d53b4a2d697b3734d1147ddb81d7c25ad23a21437c10d54bbe4ff976ccbed9d26cae5279b0ac326224ae3e158b8a6c9696006de6c63b91ffabd797416f9e50d3528e150873b2ee3ffb636e92ff6974b11ccacd936d58fc25529c404f89daa1d401f18eb4855b0351d483b2d506e8638e37d2d34bf0acc4aa78d6eb2418579b6d37aa00c3f69af91ee02cfefda868b44a86fbb9ccf1169dc5920726e21b00a47853329ad6b06ae626865e5ae9d3ede633d850762a6bf895506d6cbbaf48030589940821b532fd4b129c9bcb260a76db7473491190331c7b1746cacf7dbab76eac25b92b7916350944a9959385e48ae40b572685fec4a6bbdbcde165d7524b16f6afd911c6c7be5c91e65cb40493b821299e54e0dfd78fdafb9b1713568b8bd104d5b7db08d2571f44748b11fdb51e64e4e79de09e46acb12d84389f71e69edbd34a1ed63a75d51b3ca6c8f1c8058e3a88f320b4e5a51c2ff2f0442783561163b6f06ddc81c8a88892ea0ac2e7ae26007c249f0ba2f46220065e57e9c94a98ed12b52447439810e564291a74a89b5acd0b304b03958f103c89a7f820f2acf83f2a95bd40525fa42272eea8762b22553a6e29928d7571a1d4f6a08dc2188881df87796b2655fcd04e686a9020af78b867c3e60db72825880a305c536e22ebe4357d355d0329c29ae0c91b4f0f28d6913a8552421c0adf283056c3dbcf1b5aa35578bfb64905e4f2b4e125af5929356ba49b525c1d5197a6649d105964c7052384e1bc86a87ede7a39ad5cc9c6a4fb2ea08d0d8158e755ac1428576eea296cdffc1e3e0369cdf17eeae75db31cc062b8d4fc86e6ba2f01f1c65287accf960fce9a6d79e92ee8c08ee347b6d88ebc06854113e2daa348546294a2dcb26499abcc8bd224a1c8855b1d0efef75ab79e083a0f728e10e25a937efbc3fa8e357e51fab31be0df32efc3c46fb65fcb4528c9d8d638e74437b0abacac5932c3ebf5efc4f30479de6f4c01a71a9358e418ebc6af562dec6ed64b3d3c9e72b77a32202d4fdcc0b20b8cdfa45ff51d693222d59c5af3db7d12bc16fcdeaf97d3ed145f569db3b1a57fc9453984a77c26e0764b945598edfe7bdddae852f61ecd66de313a044e1d08e923cb652185324624b5a4b713790b214c9c81f160f6eeceda25b12860ff52d0c42c416ea3c9cfc26d9465e2e6086a6abbf680a53ffca757cf9962112f395763006555bff11333bd749064a57525c62ad1fbabd2144636412c5b324e724cda40074c04bcce80efc6cb70b9adb9ecd462237546c52e0fd55703b8630821fb15942740abdd48345fc1487405b23c629733ae527fdd64377d8d699450a62b9e71af94c1bdf09654cb498f068b37e4517516c94a8e9d096f2d7ec453b025568d187cb2d4455d076513eb8f9912a8c12960f9b69422316150713a1e2aa80b579fb73e1dd83ac09571771d091921d81810771ab00273b7bd288f3f26537d0b87302a2548c2f375744dc196ee4044b150fdd9ec8fe11818a4ce25612587163680005be8d425767ed4d8c01c39546598305eb388c3e36ecd620ddd489cc5cb360e35b60f58306df19852d167352dece0bc444a15e1b8545e1bd710b8b8c3da03d3f9c51bd15aabd67d4d41af82777ef8efdf10b35e3bcef8cb381d572463553319193855f027cd858b8eb8d14cf3676aeee2492b2c0c1f8f3bac1be313c9b70bafcb2da0433689361091c0f7f1301690b83c2330445512572bf9be082b3bc636b8c28eb25e0f7d179563db9bb8589253144e9a568f1bd9b0226500e0b0d4afee46b8e8eb58df82586d8773c29460a38226362ed668115fdbf48c84c7a92369ff266248423f30ec98e29be2df028032e0b87bd9d509e52132f70fc9bbb9821e0c3f7df76708203032bb2f1eaf70410cbfd404af987f692bf43a1e73172abb843cdf0cc66e5cecf721a423951fa82dae32497d1c2f572294f5eb469439fd1c65fda39f0833964e30f416bf4da9be559a271bc29019751863e27be8c7bfd763d88108fd6a5383ecf50db75551ac35b97be670c2a271c2af374a83fbfc61df26350ec4721533e0aa232aaf92ca778d7ef3175fed6494f80faf3643dc599259120a2ab6a9bdc2cebec73f15e6276e00c272f622ffef8b71a452475fb04574fdf831a643594d3cc48db4bc587efebc5713f61024bc567e993acd8f4e70693949adcd409cd572036c52b53914ee5a72a36563eaa34b989b1282d12cd7acfc57c46ec4dd59e8910a0713cd3dd5d1ed185dc2d9cec7e0d83fd8988eaee0a29e82981018a415e943d35da9e63e33997e5a208fe210bb6867f04ace8c26e8fd5628d558df599e460fd6f0f2bb4e1361c9ce3f332bffcde0ff9b9f0a038c5449a11a81190bc0c64993b299355af947f521df57815c3970fee5d052af58c37573f729c5c06279b9ff70ffb6757c33b366c0b195bd094f407eb27f49cb6d32abe19c6628bb75907ae194119d8a1164606a33601654d8cca67bd6133797b4a359814fc6cab25b3642997cc93560df44655a4a60de4f5be34febc4a2fa9361dceed51a6bc479f2033e4f54328fb9b3a0a94a53053f4f182046de24e101a0b566918c1f8aae80b67492fd5589cb7add2126e9d3556da75711e9774b6ce8d01cdc126278d4f9d383d0c38aba157389e0927642dab3427ffd6ae65de62604ca6dd4a8b7e4757a2a2a2b54ae231fb03d51c0a566539c5989025802fccf2294d463129ebed171087c0af80cdaa787eaf9e04581e7126a6301543686f4e229b6022313b547f3fc4741b7e4db52cf84df9391d1080d3b05230d6ad5adbbdd5adfe3246d3844127a27cb87a4e954ea055159ad65646251c79e712c2b9e7d9493fda5c5ce199176603dd34642e7016be09b47ba33a7f0d28075229fa6fb08e4521930f612fd1683443b638e8efb0fb104dd53549d3cec91f07e69ad1262b0dd2e187fd091d9d317b2ad6144df258e84565263bb90b3bcf01198eb172dcf40c87399bfd80e964148ec60a4e1ecd895d398c36883e5e56730756d2df4246fedc2c1f84061b3fa148ccb559c2117952eeb6324c9b192573e1515752570a5730f8283a1a0c7dfca3ea56750962473acf8f1745a9b8e47590f6ece042f84b9bc1c77da14e7da4daa1fc194f3fe2521464d26afbbd769a4bbe0fbb5dcbfc80a0b74a2130b1b44f156f11c6bb395ca5f6ef5caaa4c74cfe069cef16155286f1621204040d6e68502455c9e56f73a1c82ff59d51ae038497806706c3e71d627239e92190bbcd24470be5e304bae5d914bd95046f9d448a201325cb8315813109b7f67ad4643234f2519c79fe21e58f3afc07f7ece26000b6316e1cd86673edef31ee19e329d3bf57f64cd042d9cb8076997bed55dd81fc07501ac77e83fbba3a6c1944887733c4dbeafb33caecd021af288bc9f5d690175d5ea2ebb132fe1e19a385af1ec01c91c3ba4ac4ff416e5873ccbad1f211b2f1c1176458addb3756e94fb246c68e04f9f2c07a92c1d2a887e199cfb9b47f0db0f4a3b892adabf30d1cbd80e3af3f6901be4441ac610b6fb5d1f72646d276d2651b797393c32e058839f07c2f7c5cba0b8663e08c40f45e269b6e2f60886d180de22de83c46b099eedeb013785f6fadf14251a22c8d7782e282b5cd2a42367ff11a3e0a6076cac361a677d1366e4519a4f8a45ad4a80545d8ed12c93b053d44fb6ad6646013e143bf11db754840ee39d0eee8a631a779eb79f796e8f9963bf16e825e19bc8d850ff9618f0d2223ee56d8d85c596f68e79954555c590af8789181d82c07fcbdce7d5d9f3503d86e1842ed8ba65dea7335b0d5e37c3adfb557784f0bfcca5dc76b0155dac382ae1ba5184209cd78375a8a2453674ee83de5c01a7e739edfc23a154a990e1efcced985281453883f43343e918ab45d9d02d6c3063fe729c6e487dd9b04ee84b17c8e873fdc2faf2a3c02aca75a002d129edb652ec05358c54d1c0faba79105c72ad917f72eb10645c596fa4cd7ffe614a6e6568c1069310a599f2b0ac993626c1a8987319efce46b8b11f45a4ce3553e9385cb6006795bac259d356a2f264c78dad1b35de4c10dfd11e26946075eb16c6a58a187e19ee264b0146a62e62d78ca18997565a44eec826f028213d86e80bcfd13b1c3a710215f77f40d2265930067d2702f0e802d1f88f65f9896db345421df58d515cd87753518de8e4edf9d902cbfd33c8b32a03e3ad7fb6bfb030b12db3c94ac02746c5492a2ee9ec2aa0f6f9085144b941a78b27152ac554cf28ee879c9af8b6b1ca0107d17c595f2b768c47c76dac78b5af4a2c72738f260810c37e66fe05539ef68d1565000c842e3226bf2e70d56d98389c12a98209c46c7246376950d7cafdb83869e73b56890411fbadf1f628b52167ec7ccd76faa76ce96e7613546b7155e0a9b4a3163f5514c1799b735e0f7c714c2d9a5868b94d1eb51c83f8cf80dab2e90bf83df723c638e1cfbead22f64caf0c797ee12c722fd465ce582a47fa8c911bc75fc4fc9dfd76afe8b16b5551db25d25b3faf195325a888e47905a9e57d4f55a5f2af06a3523185e0d0808fa8b3d0c113748664989d6e763c3f927c3e8538d5012fcae9394eae2a972428f1c2730b36e2b9409b49e43effaac0d7278a29b35fccf7bbc57b71da69386c178d9a09a0ba6feb2a0812d808aa823624c46ffd8b08ec56f4c20404f53ba955e0161c00dfe7908ed07647a4bb53275d7af32addc94d7a1766510a8e600b635a56018e1c98a54466cd16b31bc7bf96815a4135c6fbed82ecfbaf6e28a6db6a3c96e1cdddb0c74b37a948998922a7ef34f17fe2d5fc81ea6b0f3cea6bcaf0e9f21b9b6ec818b8ebdb45f2a733aa7cdd00b1b6d59de39653d996040aacef88d5e76e07c7847b36804e9ffb6cef9e600ebdd07fd9ad1532a4f79026fa4dd1666a3a22d16e1d2b43cb8ab51a82c8c702760c22eed967874de893a269bf9ba6fd34e645412677b9405e5262e9c572087866db9e27934aedb6cdaeb2e1032d1027fbc8484dc7fa9a75336b949e39027a9571ee5952a3a99ba195e090e715f67fec08e2262e56af657b2dd1e8a4b79f56c22b18e51648588e36e27d50b4cec1513e5cd2c0b7e2c97acc7da121f2c4577c0f799bd624e633b1af420a8daee1e5fa850c7c845c117a22b5feda724c098f45dd79c1367994dd87dba0b73dcb78960019139b7eac4230a679da223ca50132d460246b1381987364b2605d87286dc59bfc71791fbd34bec1601d9d05981d8b325ae5ea35433799923619ae43c8278946929d4d224619b9b899752ca30ff2b9344624d62dc007edd2a35d55034b92fce5accdc0f273456209f9f36e9ce56f162c458a24f8ab0e8a1bf38330057cf8c8ef9b5584d449545a57453b2d0afd77328d1b50861e24124a211aace4dd64e12f0af6c2b14e5161f8aa30bea7816f90c5ffec7c91cef6cbca417e00f79b26a4cef66c793eb6625328b653c232df9b8de61f08ddec7645509987536853014a503cee0fb41949e96233be1a7410758b6f2fc26309826f88fabc33d6a81899768e0c9a056fedb4d23bac7ebb49d83df9b94da45c802306203aed6fba8c464f7492e1c336619e51591480157e088f7ef65e7b414c2388750d306c96cc1d4c7af2731fc9d675c88ac88e2c68e25b406022fd838bdd7126768625e2d895f451c35694bf0c7965f6c6697d06cb4e1976ba45a1ffa2ca225979c2e1af5cf0087e137febb9da2e1c108e80868a21d4142a1085b44b3a02347eb52a7bf585adb40b62ff7c446c771626b249fb8f343b1f668e9fa025a4e5bc0252da4242b2d809eeac9d2533ccbe92b8642d54e0d677d900fa1cba3320e7eed56c8babbdbc14f7ccfe8d4a19b97fe28a377dbeafc25da1af6b6e7277a5bf08fef64bf20b2093980dbc4aee810b5195492d65bb8d90bb060cf4dd978a95a4eb3a55f2fd507118c2834e7af741412f43c113967184f0b48895fb8c3114ac9ff8cfc1e72c06b2eef1880fc53abee858ef367e5ea8ae887bea2f50545faf4437849c2a785b483a89f2d9dab4991b5732eb89dac8f799962361265d0c5900c2f7cf866fb5dc2528a8d0e787b728c5c2b357d7d37b83d85b55bede2d90fd8abdb6a12ded1dc4acdd559d2a76c1b95bc9bbb0c7311f4e07e84dba015224f6fb25b3f8f48603eaedb1af8451fac9909d9e9a14a9ec1e71ddfe5505002a627dce0a01d4187677524968fe6f889c763ce4e7e25f9e33315d13cb739daa061b1b21d932ea2073721856c2b65c322027d7b0921ec2705b18599246ad6b8315182b3f6e0d46d107918ad8dabb8e32590920f137530013915500d53a61f55145f6d1bb7df0f5c3a0d349dbc072ab23fd63220742a5fd77932ddc7d4bea22e54e367828bd6110929fbdd2c265679ab3d2f9bb679e832570fd1a30c3480b6b42295f4d4ec7a69ef7c0557a4d059796ce4ba2bc910abaa6b2e8931873b76d894f0a2403992a983fa13d6157b45fed941350f31a43f86c2b4880530a5e785e4c70e4082503f1acfaa4a24dd1badc2f1afedc945b42746d299b3654fc59978085f8cbb4b9573716b54d8df19166bd772879473c18e8e6a5876f48796fcf8590e644af9282f42b131f3cd15d1194121cce7db0cf397e4445a2b7dff4b15d14c7f4f3b7dd78a13f8424a46477f7f4658d3025ef29d9f3d5465886464cd7ff6b34e0f793e7755bf3e79d62414f9421ca5f7bf50a3ed85696e13117b9a44ff376a22d97a7456c4c9c8aa4c66ffdcf66f9d96dec2499ec9bfccd7d9359c53d001f8e3e526d984fbe8e12249f16b243e736f0bd462308e69b14b0f78f51d38312c608fa330483daac8461b66907d72c48b73b39ee7f08cae173a3df33051de50af1b0c1ec0251d6579858950d8d0d343640764c028319a79398691c2fdf2e5fa8f602a7990623547b47f427539feef42d0aebe89f7369ed0938d0f3d469e06f0c549d19ab07df5a135b2e80827ecba6d01388a74eeaae5b89629e6871448f9fe0129a93ee09ad3fe7a11ec84d1a928103fabe28aa310718a164d6642fb819b038c01347d35c600e95d3c7ab2119b0379fd5a4ae194a219d25de7e060620073a57fe253017fe02964cb99b7458af19f88ba873f9b5bafea6a582c55c98413cbf65e73af1d1a3a359c8c7a27f80fb3d8fb545f744140944f985bcce4ecd129e6d00b04732b6622dc3c71582b079ddb2246ec358b790102c084faff4ff890bdf75b6afdb07738ffa41848d3306d2895024e41fc058cbeb7ed69052adbd570ca4e71a71a85fadab501f131470f556ff8caba0033910db8e398398497542d540e90346f2b792f67622d8b641d51408495e8fd66ee0a446db71b1883832263bfd16b8e3e35cf0525af1dce213fc5b2b7665ca2335b97b4a2c0889ac0c58b9c5e0625bf6eaffa81c87ebcab255cfb9ad4480cb7244b589532034bcbfe0e7dcdb24925d09fbeac834306f44259a08f2c99004e56629553dc843706d5b0dba20a3c1283b01aa8f8065c89d05a4a3ace248bacd33ff1c7ec358e2adfda0bcc1a6b6c9845e33a2503f92b4dc9b50ef16354ff1dff9155cb43074290467634e3a1db8b58f3679389300f9f6026bb8675420a28f182de921f26ca59237235560116c6d5f3ab796246466e1567b7cc18e63075629750d8852ad623cc3285f19541357e3d723593cd9222312c8d0f809891721e1120e5f3b92bb5f9cc717c1f3c7cd8d505dfe143c8fae739b9df5ca28695de8c9fb3ec7d2264979c86f5546088e670754174554defcd218d64b6c3d1a80b6d2c3f59238103e3248e2b684be15af256ad6562eabaa90842dc8fd7c7d9f987a053ca17486e32bd665cc9c253fdedadf0d56ca73619f30143539bb525a35d7d05305fd0e01392612a3887015fcfa13a044f24ab439e3cd3838c9b2cca2d337a395895cc038bd7d81c9eaeac04f9b681c7801e1744868c5ffe671a9524c961e96f5f6f0258aba3642e59850c8cb77810886916d2b5693b97e04887b6175b02a185005d31b4b6958116786cf767b6a1a7e921515d35235f4f8309ea7f5bb4f8618d34e690711c92147cea2f2ffd9cf8771ac818028581ace17f6f4bc51e51996a36c65976a1188eec1f679e9292a8c0816f1309f9b18d39c395841f6c2409201232ac77545ae16ea2b3c7e6f7caf31693b6f314cb96265b4ef8ab3936811b3e1b20542399bdbfc4deed4ca89476ca8b14ea4ff132cb134df82938237b435e00d48398a25db76cea6e81431decbd4457a1bf13c3a7052ec1e4f6d7f01f9ac668d224fcf4a3293c6830632b94e08c426e20ac9f0f428204ac3fd53cd7a5e5ad2f4aeaeea16019d6c2546a7a5c77f6fc6a95b9aa0037f507e7afdfc2cf83cb2c0a9f4f9a70a21fe481403678aa06e8112364b2e576d05a8a2c5e3f882c7e247c3ff3ea7187c14b4f4eac9ad23d10beb559526cafbf5c309904fefbc1d4db07b6f70c91cd20cab09607e3d8780c00b8f2d162d3ec30b509ab60ee6bd1e55cee432d469cc4ed8155c7beb38e20e5745edd5cc8326d71339c5ce977f8b6688b65491e95b474306f2c8ef84ac2372dd7d546b5f5855cdb51fe9886075bc6f22f02c53ee3a1b503145b1e209b96b287bffb5b213380ab40b629c4c3e4c202326ee2e73a7d95f0117f935d8f739302db804ae8f88ef44e0d116ed211cfce514dc0469414d7b02fb8742a1fd32bc7a6afd50d39a0d57879b659a0aa04750ceb16670d5cc0869459da74f50b0677673652eba57b0776ef487b4084600c57787f4e17ccb6204c67f48a3c46c1604472315763ae7f1eedfaf831e7e89ded96756e3b24c583c5fb3933507ab4c78f22f485de691578e97fc92c958c769cc3aa51a3ccddd8fed7abc71f97c1f3e877ecd1a1a1a699487184b4cec156bdc31929fd9d039967436b370ce251f2f4fe9a383f1103ad7b8fb83d951affcc01b69e1a19d23b4669b4521b3e84c03cdc9857d89a9ba524331ce02310e0be94e0f66b303fd95b58dc14d8dcb241766a5a5a5ec90b3772959861ebdf9809f7eedbe7c986714577dcd0e2c5b47f95a0b3ac68df384abe3be93f37879ec6f8a54a946bdf10cfcbfc2c97460c59c6d61618cf47c1f1698188c26182e77db3691df05e7c7fd3b865981cd97a40b4205b839810fe387e955848fd1ab2fd82b75cfef9a0db008ff7dc3d3ae54c06863210264c73d19568ecf5f21e7125c478662fe24cb620c0c906c21d9f5ac85d07677c43c527846c5220d8f83e86a5d329668f0253cf0b7f7020fa8d355396d126beeddb933845f520411bced5b845e5e387329af7ef6e1ab36efb45fda313e8efa463ff4bb8344f9ff8f748a54a4c0fd6ab1590ec7780df2254cd66a2df6250edc314141288e9e053f5318f1f90c0837cc67ce8e10fcdd128cfbfcbc3046b8bdbe3069c4a7e5a2b1b7adf758bd91d3500e74fc9f215606befe56d27535563215753edacc8ff6413f6d0f74e716442e10740245ec6b8c6dd4ae74c2dc782f53bf5a87e7e6eead7fc03e9d933bd492dbe81fd160628922271f3a522ee31f4b3b3a6dcc9d6042242f7fcbaab029121e6be0bb813d102152166c2e4a7568c7f565b92ce5e420569ac144a8ce0c74af0b3ee3fd7080fedf387d4af4a705abe29c1d2843b2312c65047ea9bac7cb6fd33a88bd4c7eadd1934fa8ab3842fa7c64ba4be45436a2da78a8abad1bc2a94d67f215ed3d398eb25e9cd7e65588578e0ce41cb8520a9bc82df17bbc074406e6d9268c379799a04ea837d89ab40ac3955cb9b3958db40f69bcf5d06974873fe08ec63b2ed3aa1c70105c7fea40edadcfd3e4719bbf9551741b13a06cf385c6dfa9d07b24f626bf24ab86ef1adb9a68ab684b74b0dea55441d38cc7fe1cca67e39f91d284fd06a2cf10ccb05d850c0fbe5972bec2b8207a55ba17e6ccc3a1f2adcef04fd0ccdf8a3571c8fb908b52b19902f8d60369129fb25012473b52de037249abb8cc5514393b4bd2263f31169440282c121d1072a631be0f07bbae65dcda81869a4907ea2a4343d1f9f892e5681c95190ab0936aa5edd0036c6a881adab14d212c718f03d608bfe389b2e2728ecec2bbad951ed634b41ea2a399b408a5ec0710b46b60d40a1cce9d8834cfd70ffef30465dd5435877defe3fb7cde06d5d589284ac7f068e37540b25d15ea8c612d4c33bea8e1ead237580484d3631e909d707d771e4193fd210aef6b9804bbf8d1da2961ca16f218cb1b84f7df43bcb32c2dd1a64e1a53dab7d82b65eb33ffb908260c6c7c879448558b0205756222bada105b42c4c564379584d8f551fd137cdd46335481adc3f31f52c588d79a94507ff4a6448330172c824f4de2168a9ff18402a2096710131d528a8fe69dcb156018b11131e5d68bb181b0c82fa815342f5adaca76b7353606fda1b0d8372ddaa8d31c25947ad4cfbedb2d9589eb1d8096a462d4504f88a41b3a4dd4593d360f81ccdbb68100b0e59b03b0bf5238b7f00ebb25ff500c7911d3cf4e464a841995e5802cf7668bf432e044407d2a3235e1fbc86d4294bedf72866bb997b8a60de096a60fa1494141e68e8a3764484cd5dcf9ed0f991ccd8e8f400f8dec150a9768e4478d69131e0773753c1ba00d1122a07d40d46150d118bb9beb5d86c95f23ffb742d126ebff105c201f5b84f3cff4eb3bbb676419afcfd2d3596aaa0c3356d0a90cd62a65a88cc10674fcfaa080b4cf6882fb2f567e70393f64a84ade77c6277e03870a5e6e9bcf85cab08ba5f5f528c5a0ccdbe0cf88ec3216d415211478891e42cec0b263b3abdc9769f66f4d06649b95c63d322b30c4748e1602ab53e2cbb896ed167ba93ae969ed6ba55ecd325c956b30a1779375d4a99ef1da9de23e706f1cede16dd5f79fdd5b0072fe467180e28f5de26a43a954d41f9b6b36849b2e473a74f881c31ef19d010f69ed8692b7413d0f43c96112003c3bf558b5ae3218e67e281f2306336da0ae44c19eecf332b98b8340199fb7c51d9f0f9a86595901440d61fd9faa7ce190a91ff6bde251bd27aabaea2d74e831259a5a89a98bac91a7262a0b6786eb7ac76e14ed7529c40600c93bfad4351ebb2592ef822ff126061ab2999077a921d9645cb908f9da822d7ab748f8e3d5af8e2b8f67bc44e18ebfc1abf5fd42243d5da52c52468d404e5a346596b2bb74cce7291ae6da0e24725eb62f13411e5689483b9f8bbe74133cb58e798f29bebe9bffc0f2fca7612d1a7e90501023ebc5301903058d685e8df8ceab8dbc1e52a8ff804fa301c3adec5b32ab1faa171d931aac42e791ad3730c0906b5a43c18289aa2236593f8342686cf5945dd343f9b24f43609c244eb9d23daf1f2da78462bfa4f3f6c12bad41eafccea623047e292bb025cf00bcdb263fbaa310a9c131677f6f5671ce1342b24cd9e8c0abf466866a40b3eea3ad96f760ebcd34d8135a86fbb7744fb1fd28edb5952976803c15bc51a68aca7a6585f486a644b9f486215022a5ea570074e59341b340e9528c6c7db8ae40660ece017af955cd04ebb11898e8817cf6a1a5f1bed374f46f2e4fec518f6bee35ab8390716267e910444bccf205a92cc214703a0ec6dfb94ab6ad9b4c237cd3a4f0e22123b29b574d680e7b6d6ecd8b96e0543618ebb42b9186d70019794af7e56c2adf5b157c344b6308d757eb46911de0c4c8c2e9b5a9521361ba09df860855da2eae5df3408530139f583c6f725f2eed81a69b8a4486132e0f4e6001658a0234abbbab77eff52c03e7fd7ca0124c574810102ba7619f71a187397bbc5e7dcfb96cca6a541e1bc2068d7bb9d39f6a22e1ad3dde8c8889c7dd0a2df0c610178811e5ba00d945dda4c6820ba9bf3eb112d01c75bcbbf38fa22a686e9571a39a0d0996345a07c3fc7aa6986a35cd36f56a6ee2fb57a5e29c0f0dc5769431b6a30d3dcc3c17828ca81c76ad38a7257463f39b4723cfe26f88a0926975d6a31bbed12d0dc54a0d0dc0742d0966bb14aeaa2d6d0df90649d3124b67ba7d2c37a40af4ad9da7ab5964f4d59d2b87a338a59ea6003037950e2bf913c15f047b6b795cf812ee15b1476a6ab5c958698d3f5c589ca851576bd4e6e6bfebf40c74b4f5d09792466e8e9dff64b9b29e58538da359b982c67cbc0fa06aa8d44684be337c032e909d01bd5ea1e60374a9a0ee89ae90722e5c344edb1f4308ad77230356128e489bb320077af881bc889577eccaa800f482c6b6328afb602dad878fb08d9cbb349d658f7e93a12db1a3ee23bbaf75ae0dffd4a84c9a7a13732c5f81088415fed22a866102733a6ba2eab7fd7dd2208abe4e2a44f8ea710905b1c590d8a4c81ff6f474734a5578a56e27e9f93abd8cfbbff0cfdfbcaed630e4b5cd50797551eeb0b1fd80a4336b6d1a0cbf9b5e69490359ac9cad003cb449a4ce78d63e83374acd6b18ed3b7d5ea3a836ccf23d2407341e13c9f637442e24559c247fd85df75e297ddfcb5dd8698e74ab5a8d556cc244fec33d545b4cf15d1d4ee1d95b981fe8b20bf74b44723125acee2e69c2f7f34ef311f7c422a76110d46d5f0c1244d2567021f92a501abba384df9ae40bcabf25dee54e11ccb041820c325ae5be72a5196a4c1c387238e1e6457e4d73c9d54f8d6b51e7e1c841e053ab520744be84931468989dde8e6592f6daf23fac887ba90a12cd0e4a75edae0816bb057ea27e912fa38447c6b4205f04861526549a8c5895671e2715d0f31c0858afe5a66ad093b2e9994765fca0f6c5a6c5702ec82b1054329a507bbee574a62d02738b6fd84a672a87647146ec8a0b095fb55dd8f4613e6c5fe739e56abd5a863f94c7f67a8abd4748c586d526d1503fba835eb80ccf21dd124c064b39a37ee9474e7c8289263d9de9c76dd5cc305f7714b8dee9381220c86d6eefd63cd41f4d6a1e0d8a626e9deec15a1631bb16069ad6e6869d73f2a2519c6804deaa99f52507f7fa37d748961a0d935a40e33e010382bb5c4126c6e46eeb575e9d49563849a270aa743aa9fd2a8a5b6ac2437b3a85f74be9c7d9eb612cd3a62b247027145f52ad50237a4334086e9cec24731fe043fc182683b3df14b86a67975ea19749863ec7e4e7d30d103a85f8d317da7270b4f47dced039b426903a27452d67398e7fb89330475a3b4fa7fc965785ad76f1d0f77d0c3b947159e1a0d98b1f3c998a000e4e6c77e4780a01972eaf296e7e0d525abf7cf00822661ab224e639aaa59a621ff86dff82ba73c678b278072143f0b9b4a69c5e5fc1706977e4d6f34012fb12e61ff9bdc53444a833ff5419f38014f5c4bee06d374cf27619bb73c06f4be523f2c23b0579b9664b76e24a253c109b6e18d0a2e3235084cc13f1d9eba3bcd68156dd17d10a96a229a4d9ced425acbb30c511dff40d0c0ce5f50c2a42d1c4e565efc22a4c1c2fd8ae55587f4d356848d9930d3cf48e3ab9649a642a817391c929a5373553d680f613b9bf1ae1feae0968a228b251986bd8061d85f168544ddd1fa83332b44bdcb4671c78995f789943ef130557161e78639a7b9444aa05b667460b88ffdb4899852ec30a1b78f495a49c2ecb6441724239c77a9fb992e944c02c2b13a9c0db2fdbf6dcddc23720510e7b20ee414dd553259bef7a96501e18fafcddf2cb327af09ea50b846d7e547ce402ba195cc59cc1cb7a4eafd27be1356e8b1bc5081b79147b605c62eaf7133db04fac5a4ac88384b68a78a6b71bba42ca6bb4248b25a4f12857fd3d82e8c81f3d06564aa6a4061c89bb0dfbbeacc16032de73a5a520fc65b433966b5846dab1ee87bdf155ddf3275c57744e1c2b95ad748ff819612ed6fb04645182262187b79389f73661ff9c6148109447a418e93a1633c2f69182c8f298017d04087413c78e87c81c301fa7598b0f67bc9e0d0e0b7fac732024612621a4c7a5414d0d37010c891ac5504cf2fc8bf4026d74e655f398cfd9702227feaf44187ccc96ed847be84bda7eb7521d11aa20f76569115e5954260b1876078da6038c3fb6342a6113c6da93d43e3c230657ae938decc627f4a3e657d9e3721569c161eba6afe4f42db15514108fa6ca6e18bc6ad8f8201d2ba4768d8e3431386be73f9cd35ae0d6a9461d100b0078ccfde9708e5d66ccf47f1e981a66b33d8a1517a5cb207e9c599e1bc96db9c61852a02bb9efacd5bc64b02a39b557f09e08a1709c57ac05dacb77ffae4ae8f4bd428979bd0fb52423ebf2a3c491a014d030ed7d420c1bc1b964ccdbd4354cc2a17eaad03648622438c7a9289c7434e6b3514cc5948883b0164561a43866e8a0c0c60a8a7921a97ae70c88bf7b01e4fa7d8d341ee06bda04aab36bcd2ea92633052153c505d85ba71f48c9aca7711ce1f4af63fc0b83888f9d4df77b6e6039de1090a1cca73334e0fcf2f10a79958a8a84322d9a0d22b99a870472b4397e3ab1bff599eafd80c6335d2da4c8f05ce281a2bfdc3846344150469ddc91e6edba821873f073180f8dd57679b66c7c4bcadd4e23bd15e68bbc22c2442ee94f265bbc4e6c3a51d94fd6f1615b1543a704994cb45583801a96354be185e716851d4956ae2a7b06c439286c9cdebe3f81c21b9ff4fe546aa587396c2038a19cf4e10244eeba2cbbbab27451701e6e4662f70d3f1c07f7618c002da013d21d1c465691003ebcc52897cbd7ffcef8b177b8699e9be9065be9aac46320bea98b642112aeab2b8acffeeadfa0d42b921cf9e6466c7f9d44e7aa4b426d6363d831db3482a3bdf15fdfd965de54994bd568baced7b5eaae0a4392bb2a3467d2d27ed559e7bfc39e4049ddb621dcdb21f3d5f01cbc0ce6e3d71f95315c2268ea7d7d0782d4be4a377c4f218a306a03059994704daa077f2545e88e7d3621e5ccf90d22645ed15081bcdc8599ca6ec1275f62f28726fb94fdd467ae17b863fd57ec4bdcbbd6e38f833913a4736bd39c4fa40d331113132c32453bedf6f04c8e4ad4999be8a99178596c8a899cc114499184c3548d75c828aa8050a7b1c2a6f941579cb5750e4b728cf7bc1ffe03152eb70f1e24ed77e06e37fd30ec55e3de842bd61239f970bbf5c4c8bf8e432c8a19fedf33dbbec314dc730ca46cfa87b1c7bfb2b2b446e55a8d129fa5ad8bb7fe99072e3319850d09113b956714eefe8d8f42efed6f9318a7b6ac2aa7232362321801f33f54ccf28d45b513b1c8dbc7235bc191760647327cb6b61ac62c63a2082f18a33d0c89ff395f27906920d4f92fd61d5350cef57fee61a839b673c4a31c2a042f59c30e2998525147cca368ac61f5df0e8bad2cac343fd40d6426d92d5f0e39bf0693c6aac88a527b6e6e7ccbbc3d9c79aac0333f9ce168a428b3cbc8d93434165a7b90bbfc46208bce83021426b37c502ae9b5da8c5420ce8d928ef48227379eb2d8239e2a1197bc2134760b7905ad4fc2844de77569e424f1b0fd4be3db90816b837d0cff3112625f4d2d4d64da358865d5e7f6b70c47aa39d1db3520d4ae57d2bda6b71c87420ba1aac8a9ecce9c78dc17d4fc2900dca88fda75e2e331e285e2bc6b3051baf4804c21587e9e642595a54a412ec53aaf2ef9819503cf61dfb3113d7e113226bf9fd0a850e9a63283e679cb49e943f4c4d40b6feeef51bf8623cbb39318483fc15a543416956e102940b52eabc54586f154de75fd80c5eb7fd2913812b3216f0e9bc3e3664452f6d816fb19021973229d7ef16e4800b37805614644becaba74ddbb654f29b1caa687d3649e2edff5e68b9272674c1fdc491a90389f55b50410701ee4d17208f1d4820fbc4ddf7d0b203b26c94b28fbe2575c2e84b1abeb4f429b37d52bd83dc841f4f48dcbce888fecce396c31a959a01d3cde5a2f774c43f59704dca8eae2fe91379bbbb8b81d78e4d0168de8044de7ee65baf3b01b015e33e4bb39f4439cc7eb7fe48a953db851d2e82cda49d2fdc16d4f84bbcf77ab0df0787748e9e0d8920c92456deb1d1630ae9df58772bf49535c0beffbfdfcf4e68c140a0907211f7bce946363a705aae5972fef5bbc111f112c43e3c6164a6e28e08a87ab78076006fd377227ecfbb654c89755345734f40dd16b291d173fc10241bfd7edc26deb68a5007a3c145197493bbaf4fcd5db7df5160e6048c4b7b091c02075818c17c716cee1eacbf5db0e546d9cd48798f4374d854763ec4a0eab51dbe732e313cc4d113f277fe576ccdc17c6f8be16a557f1fc65c295b605c2e6ccf4d0672cce473ad7fbc0c1514a06ce065b87f4e4d4906e23cfbfd14d71e8c17ede8110b5def47e118432f6fe4cd7dc43f40f924e48488aaaf72d05bd566f41ed085607ff96b207f7e238d610efb99f297a78ca6a630e1e7e7cab2306d3ad5da0ba9ff9e5adc18f06fe05426f40015fd2266a73a969dfd4cadb458823b4cda8640ef98694639c8036591438438008339290a3ab305d7b79ffbcc0e04e726d942a0b66bbc739a34765bff9b86da28e040f5d324387c9625222f798d36bf6447c785abb1119c00adeb43e24b8907c5337b7a7fcb34f71cd865d095701219f54823eea56181fe3393349468bc4ad9984ac382b767bb56f9a69cf4b1ae55ee8cc6021ae627b14a8ac8b60b08832a767d3360f97883bdfa5b87c3ea5be1ee8025796df68ff3267b255c7dc50abef0ece698bec14a0e0314f2ada8562504134b1230edd931581f4f702f103811a6784131eee7bd3a14ff115b7fc83eb1e393162e19817123a66ea5aa2f61c2d8d9e3e424d512cf7589e925317461bc15290b7567db74f72658bf35a9e8a83440d4cf9868473a2c582697bea61c2b7fe0fab48f3ccbd1f903e60ab8ab33b8a9e7f4b21c1f3a97a35e836743d13c1ffa1cc754d3ac215f7bdcd02d81729fe5bc9774b64f51ea222a08e6cd03795f4d555b5821f1d2efb1aa313f435f91d01ac885f1350d49101978a297012a2c96e805923851ba18ac85ddcdb5aad54cf0e36e62363ab7034348e32fd6aea82aa070b9dcba54d55d778df8d1a20cfa58bf1b96cd11e4cef240ed6044102be31e8e93dbc47ff77a8e314cb543be36fc383de7eb0e49564b6bbfce6f978d41cfa80eccb396fadaf3bbf768972cf0ae17f9534eec18d7bc60330818e963eac163e40e72bfcfe784b296a3a3c4337271ce43f085136cc0ccefada2a856bcea95e2ae1f56c21d72dc73343b3fd88cd6623d2a9f938f93008e29e4f1f8d4df52705059d39bcd20d6b0b4016581652294304a01ebbf4aa68389ba0ed3846682123c074eb706775cd5bacb84ce17eda35d7e54e31966044c27136d4f414dae3dbfcf319a67cabdeb992f1c8baa4d6a59a44de5c180163dc406b16b98f3ef36e5165fe417c5480dfe468bc7a7da0dab817b6e4a576057bb858ac379ac8e225f923e2ef0465f4ac8db8509137d3dcd025938dd7f0b922d1880d1c56d9902229d221f4fc81767a38b4d90641aef2b2de1ef072064e609135a40e98c1f557f207ebec889bc32c965f94ae207ead833b84fabfc1b95cdbd75aa1d9144c2a44427bea73d54750ddc0447393305453d15d20c770976fa61b7be6c835d480e410ba3048b92cbca6835395f735389c6947cdd0fe57fa564598bdbab1659dd61ed6e750b4ec396e53a41d346409afb78534d3d324a77d3205305d5a1230bab2a59796b5aa0a0c6db40255b6d1a883750deeb31a62fc0d003817b0c98d8e86e269a10a70dcabbbe85454af986d3c3434014975cd51866cff1e743c6b2a7022e7d180786b3bf3706c7dd29ff472195aa57213fc79396a7f3500db878d2e574045d627e4284137c02be5c0cba404d3fdf977a0f6247601c9f22bd690b75a59a8d8acd5dd4bdb73e57b6640846209b95a619f68174109852ac941cbe1eecd8bdbc931ac06bd02b293b657372acbc2f12fea2941f702d78619b96acdfac0dcc9a50f25c638df2323aa97034cc0cc1cb8ac692303b4fa04184e719602ef14a22b802ff48596bb6c3a52cfd62960d63084be3a517eabf91731f0d3ba58dfe92801ae6087d7794960fda9394c2d88baf6e9325cd976a23f82ef8893c6","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5764ed8258c7ac9c8a2bc90b27437f4c"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
